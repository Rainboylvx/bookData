---
title: 快读
date: 2019-01-21 17:14
update: 2019-01-21 17:14
author: pili(15学长)
---

# 快读

## 说明

作者: pili(15学长)

## 定义

快读------快速读入,也可以叫读入优化.
其实在noip用的比较少,在省选中用的较多,因为会有一些毒瘤出题人卡你程序时间......
先看代码,一边看一边解释.

## 代码

```c

#include <cstdio>

int read()   //快速读入,它是你写的一个函数,一般用来读数字,read()前可以是int,long long,这与你要读的变量的类型有关
{
    int x=0,t=1;  // x是我们存数字的变量,t是用来记录正负号的,变量名看个人喜好
    char ch=getchar();
// 上面一行是关键地方,也是快读之所以称为快读的原因,因为getchar()这个函数读字符非常快,我们读过字符
// 后,再把它转为数字,再返回,在数据很多时仍然比scanf要快.
    while(ch<'0' || ch>'9') // 判断读入的不是数字时
    {
        if(ch=='-') //可能是符号
            t=-1;   //t记录正负
        ch=getchar();  //这一行别忘了,你读入的也可能是空格或换行符
    }
    while(ch<='9' && ch>='0')  //当读到数字字符时
    {
        x=x*10+ch-'0'; //转成整型变量
        ch=getchar();  //这也很重要,别忘了
    }
    return x*t; //最后返回读入的数字,记得 乘t
}

void Read(int &a)  //真是第二个版本 原理差不多,只不过我们不用函数返回值,而是直接在函数中改变 a 的值
{
    a=0;
    int t=1;
    char ch=getchar();

    while(ch<'0' || ch>'9')
    {
        if(ch=='-')
            t=-1;
        ch=getchar();
    }
    while(ch<='9' && ch>='0')
    {
        a=a*10+ch-'0';
        ch=getchar();
    }
    a=a*t;
}

int main()
{
    int a;
    a=read(); // 读入是要这样写,因为read()函数会返回读入的值
    printf("%d\n",a);
    Read(a);  // 在Read()中引用a,直接改变 a 的值
    printf("%d\n",a);
  //两种都差不多,看个人喜好
    return 0;
}


//总体上说快读就这么多,也没什么好讲的,打题时刻意的想一想,打一打,就能记住.
//但记住,有时候你可能会因为你的快读写错,而使程序出现难以理喻的错误,慎用!!!

```



