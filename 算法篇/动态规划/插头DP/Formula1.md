---
_id: "a0f38e8ef8"
title: Formula1
date: 2020-10-10 10:34
update: 2020-10-10 10:34
author: Rainboy
---
@[toc]

将会学到：
- 最小表示法
  - 如何扫描
- hashmap
- 对状态进行二进制编码

```
◰ ◱ ◲ ◳ ⊟ ◫ □ ■
```


- 情况1：新建一个连接分量，此时出现$(i,j)$为`◲`的情况，要求$(i,j-1)$没有右插头，$(i-1,j)$没有下插头，这种情况下需要将这两个插头连通分量标号标记成一个未标记的正数，重新$O(n)$扫描保证新的状态满足最小表示法。

- 情况2：合并两个连通分量，出现在$(i,j)$为`◰`的情况

- 情况3：保持原来的连通分量，出现在$(i,j)$为`◫`，`◳`，`◱`，`⊟`的情况，上插头和左插头恰只有一个


显然最多出现6个连通块，因为如下所示

```
┌─┐ ┌─┐ ┌─┐ ┌─┐ ┌─┐ ┌─┐ 
│1│ │2│ │3│ │4│ │5│ │6│ 
│ └─┘ └─┘ └─┘ └─┘ └─┘ │
└─────────────────────┘
```

当从一行的最后一个格子转移到下一行的第一个格子的时候，轮廓线需要特殊处理

::: line
![](./1.png =150x150)
![](./2.png =150x150)
:::

把上面的第一条轮廓线转变成第二条轮廓线，然后从第二条轮廓线来转移$(3,1)$这个格式的状态

## 参考/引用

- [基于连通性状态压缩的动态规划问题 - 陈丹琦](https://wenku.baidu.com/view/9cfbb16e011ca300a6c390d5.html)
- [《基于连通性状态压缩的动态规划问题》作者：陈丹琦 - PPT](https://wenku.baidu.com/view/f49801155f0e7cd18425368e.html)
- [URAL 1519 Formula 1 dp（插头）_便纵有千种风情-CSDN博客](https://blog.csdn.net/yskyskyer123/article/details/52258410)
