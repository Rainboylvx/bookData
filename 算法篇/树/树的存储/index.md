---
_id: "a4f0dec54e"
title: 树的存储
date: 2020-11-08 15:35
update: 2020-11-08 15:35
author: Rainboy
---


@[toc]

## 树的存储结构

树有两种存储方式，

1. 记录每个节点的父亲与孩子
2. 当成图来存储


## 样例树

有树如下所示

![树](/images/树.png)

它的数据描述如下：
 - 第一行一个整数$n$,表示树上的节点数量
 - 接下来$n$行每行两个数$u,v$，描述树上的一条边，其中$u$是父亲，$v$是孩子

```
6
1 2
1 3
2 4
2 5
3 6
```


## 父亲孩子表示法

所谓的**父亲孩子表示法**，每个节点都存入指向父亲与孩子的下标，一个节点($node$)的表示如下：

```c
struct node {
    int v;        //节点本身带有的值
    int fa,ch[m]; //父亲与孩子的下标
};
```
含义如下：

 - $fa$：$father$,表示父亲
 - $ch[m]$：$child$，最多$m$个孩子


如果要所上面的图存下，对应遍历代码如下：

```c
<%- include("code/fa_with_ch.cpp") %>
```

当然根据实际的题目来说，可以对**父亲孩子表示法**进行修改，得到

1. 父亲表示法：只存父亲的节点，[并查集](/article/60d9358f55)用到了这种方法
2. 孩子表示法：只存孩子节点，当不会查询点$u$的祖先时，可以使用。

## 当成图来存储

参考：[图/图的存储/边集数组与链式前向星](/article/34f277bb70)，把树当成图来存储，得到遍历上图树的代码如下：

```c
<%- include("code/linkList.cpp") %>
```

